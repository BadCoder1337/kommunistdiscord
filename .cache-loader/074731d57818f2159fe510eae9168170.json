{"remainingRequest":"D:\\Dropbox\\kommunistdiscord\\node_modules\\babel-loader\\lib\\index.js!D:\\Dropbox\\kommunistdiscord\\src\\components\\App.js","dependencies":[{"path":"D:\\Dropbox\\kommunistdiscord\\src\\components\\App.js","mtime":1529229177854},{"path":"D:\\Dropbox\\kommunistdiscord\\.babelrc","mtime":1529227671952},{"path":"D:\\Dropbox\\kommunistdiscord\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1529227300312},{"path":"D:\\Dropbox\\kommunistdiscord\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nrequire('../assets/stylesheets/base.css');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _discord = require('discord.js');\n\nvar _discord2 = _interopRequireDefault(_discord);\n\nvar _Login = require('./Login');\n\nvar _Login2 = _interopRequireDefault(_Login);\n\nvar _Client = require('./Client');\n\nvar _Client2 = _interopRequireDefault(_Client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n//import strings from './Localization';\n\n\nclass App extends _react2.default.Component {\n  constructor(props) {\n    var _this;\n\n    _this = super(props);\n    this.componentDidMount = _asyncToGenerator(function* () {\n      console.log(\"Logining\");\n      let token = localStorage[\"token\"];\n      if (token) {\n        console.log(\"Got token\", token);\n        const client = new _discord2.default.Client({ sync: true });\n        try {\n          let shit = yield client.login(token);\n          _this.setState(_extends({}, _this.state, { client: client }));\n          window.Client = client;\n          console.log(\"Success\");\n        } catch (err) {\n          _this.setState(_extends({}, _this.state, { alert: \"Please login again\" }));\n          console.log(_this.state);\n          console.log(\"Wrong token\");\n        }\n      } else {\n        _this.setState(_extends({}, _this.state, { alert: \"Login to Discord\" }));\n        console.log(\"Welcome\");\n      }\n    });\n    this.state = {\n      client: null,\n      alert: \"Login to Discord\"\n    };\n  }\n\n  // logged() {\n  //   //this.props.name = \"You are logged in\";\n\n  //   this.forceUpdate();\n  // }\n\n  render() {\n    window.Discord = _discord2.default;\n    console.log(1, this.state.client);\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(\n        'h1',\n        null,\n        this.props.name\n      ),\n      this.state.client ? _react2.default.createElement(_Client2.default, { client: this.state.client }) : _react2.default.createElement(_Login2.default, { logged: this.componentDidMount, alert: this.state.alert })\n    );\n  }\n}\n\nexports.default = App;",null]}